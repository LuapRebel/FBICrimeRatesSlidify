--- 
title       : FBI Crime Data, 1960-2012
subtitle    : Coursera Developing Data Products - Course Project
author      : LuapRebel
job         : January 25, 2012
framework   : io2012        # {io2012, html5slides, shower, dzslides, ...}
highlighter : highlight.js  # {highlight.js, prettify, highlight}
hitheme     : tomorrow      # 
url         :
    lib: ./libraries
    assets: ../../assets
widgets     : [mathjax]     # {mathjax, quiz, bootstrap}
mode        : selfcontained # {standalone, draft}
knit        : slidify::knit2slides
---

## The Rationale Behind the FBI Crime Data Shiny App

Over the last few years, I had been noticing many people lamenting that the United States had become a very dangerous place.  Most of these people wished that times were safer, like when they grew up, in the 1980's and 1990's.  I would attempt to comfort them by letting them know, that, in fact, the 1980's and 1990's were far more dangerous times in the United States than is currently the case.

My claims fell on deaf ears, and were often responded to with angry denials and professions of my utter ignorance as to the truly horrible state of affairs in modern times.

This app is a visual tool to help those people feel safer in today's vastly more complicated, yet safer times.  For most states in the United States, crime rates have been in steep decline over the last 25 years.

--- .class #id

## What does this application do?

The application takes the following inputs:   
1. A list of U.S. states to compare   
2. A range of years to view (between 1960-2012)   
3. A particular type of crime for which the rate will be displayed  
```{r crimetypes, echo=FALSE}
crimerate <- read.csv("./crimerate.csv")
names(crimerate)[4:12]
```  
   
From these inputs, a plot will be generated with each state having a distinctly colored line plot.  The x-axis will contain the range of years, and the y-axis will display the rate of the particular crime being studied.  

The user may choose as many states as they wish, although choosing too many may make the plot hard to read.  

--- .class #id 
## The Plot

The plot generated is performed by ggplot. Below I have shown an example plot generated by comparing <b>Total Violent Crime Rates</b> for <b>California, Florida, Kansas and New York</b> over the years <b>1960-2012</b>. 

```{r exampleplot, echo=FALSE, fig.width=12, fig.height=6, fig.align='center'}
library(ggplot2)
crimerate <- read.csv("./crimerate.csv")
crimerate <- crimerate[which(crimerate$State %in% c("California", "Florida", 
                                                    "New York", "Kansas")),]
crimerate <- crimerate[which(crimerate$Year >= 1960),]
crimerate <- crimerate[which(crimerate$Year <= 2012),]
crimerate <- crimerate[, c(1,2, which(names(crimerate) == "Violent.Crime.rate"))]
names(crimerate)[3] <- "Crimetype"
        
ggplot(crimerate, aes(x = Year, y = Crimetype, group = State, colour = State)) + 
            geom_line() +
            ggtitle("State Comparison") +
            ylab("Violent.Crime.rate") +
            theme(axis.title.x=element_text(size=16), 
                  axis.title.y=element_text(size=16),
                  title=element_text(size=20))
                  
```  

--- .class #id 

## Which Decade Was the Most Violent
If we sort for the 10 highest <b>Violent Crime Rates</b> by state, we see that all fall within the 1990's, which was overall the most dangerous time for most U.S. states:
```{r violent, echo=FALSE}
crimerate <- read.csv("./crimerate.csv")
crimerate2 <- crimerate[, c(1,2,4)]
sel <- ave(crimerate2$Violent.Crime.rate, crimerate2$State, FUN = max) == crimerate$Violent.Crime.rate
crimerate2 <- crimerate2[sel,]
ranks <- order(crimerate2$Violent.Crime.rate, decreasing=T)[1:10]
crimerate2[ranks,]
```  
As we can see by both the plot on the previous page, and its place in the top spot on this chart, Florida likely uses a more stringent classifcation for violent crime.